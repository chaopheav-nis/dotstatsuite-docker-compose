<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on

        ServerName dlm.camstat-new.nis.gov.kh

        ProxyPass / http://localhost:7000/
        ProxyPassReverse /  http://localhost:7000/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log



SSLCertificateFile /etc/letsencrypt/live/dlm.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/dlm.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on

        ServerName authorization.camstat-new.nis.gov.kh

        ProxyPass / http://localhost:94/
        ProxyPassReverse /  http://localhost:94/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log




SSLCertificateFile /etc/letsencrypt/live/authorization.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/authorization.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>


<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on
        RequestHeader set X-Forwarded-Proto "https"
        RequestHeader set X-Forwarded-Port "443"

        ServerName auth.camstat-new.nis.gov.kh

        SSLProxyEngine on
        ProxyRequests Off
        SSLProxyVerify require
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerExpire off


#       Redirect permanent / https://auth.dataexplorer.crabdance.com/
        ProxyPass / http://localhost:8080/
        ProxyPassReverse /  http://localhost:8080/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log




SSLCertificateFile /etc/letsencrypt/live/auth.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/auth.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on

        ServerName api-design.camstat-new.nis.gov.kh

        ProxyPass / http://localhost:81/
        ProxyPassReverse /  http://localhost:81/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log



SSLCertificateFile /etc/letsencrypt/live/api-design.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/api-design.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on

        ServerName api.camstat-new.nis.gov.kh

        ProxyPass / http://localhost:82/
        ProxyPassReverse /  http://localhost:82/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log



SSLCertificateFile /etc/letsencrypt/live/api.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/api.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *:443>
        DocumentRoot "/var/www"
        ProxyPreserveHost on
		
        ServerName data.camstat-new.nis.gov.kh

        ProxyPass /configuration/ http://localhost:5007/
        ProxyPassReverse /configuration/  http://localhost:5007/

        ProxyPass /viewer/ http://localhost:7002/
        ProxyPassReverse /viewer/  http://localhost:7002/

        ProxyPass /search/ http://localhost:3004/
        ProxyPassReverse /search/  http://localhost:3004/

        ProxyPass /share/ http://localhost:3005/
        ProxyPassReverse /share/  http://localhost:3005/

        ProxyPass /transfer/ http://localhost:93/
        ProxyPassReverse /transfer/  http://localhost:93/

        ProxyPass / http://localhost:7001/
        ProxyPassReverse /  http://localhost:7001/

        CustomLog /var/log/apache2/dataexplorer_access_log combined
        ErrorLog /var/log/apache2/dataexplorer_error_log



SSLCertificateFile /etc/letsencrypt/live/data.camstat-new.nis.gov.kh/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/data.camstat-new.nis.gov.kh/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
